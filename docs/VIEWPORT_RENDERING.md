# Maze of Asterion - Viewport Rendering System

**Last Updated**: 2025-12-06

## Overview
This document describes the complete viewport rendering system in Maze of Asterion for the Mattel Aquarius, combining the rendering flow with detailed wall-by-wall analysis. Understanding this system is essential for modifying wall graphics and maze rendering.

**Important Note on Labels**: Some function and constant labels in this document may not perfectly reflect their actual usage, as they predate full understanding of the codebase. For example, some CHRRAM/COLRAM index constants may alias the same memory location but be labeled for different wall positions. Always verify against the actual source code (asterion_high_rom.asm, asterion_func_low.asm, asterion.inc) when making changes.

---

## Part I: Rendering Flow & Architecture

### High-Level Flow

```
Game Event (movement, turn, door open, etc.)
    â†“
UPDATE_VIEWPORT (asterion_high_rom.asm:3371)
    â†“
REDRAW_START (asterion_high_rom.asm:7270)
    â†“
REDRAW_VIEWPORT (asterion_high_rom.asm:8085)
    â†“
Individual Wall/Door Drawing Functions
    â†“
FILL_CHRCOL_RECT (asterion_func_low.asm:420)
    â†“
Updated Screen Display
```

### 1. Entry Point: UPDATE_VIEWPORT
**Location**: `asterion_high_rom.asm:3371`

**Function**: Central entry point for all viewport updates
```asm
UPDATE_VIEWPORT:
    CALL        REDRAW_START
    CALL        REDRAW_VIEWPORT
```

**Triggers**: Called from various game events:
- Player movement (`DO_MOVE_FW_CHK_WALLS`)
- Player rotation (`ROTATE_FACING_LEFT`, `ROTATE_FACING_RIGHT`)
- Door operations
- Item interactions
- Combat state changes

### 1.5 VRAM Layout and Viewport Architecture

**Critical Information for All Agents**: The Aquarius screen uses a character-based video system with dual memory regions:

**Screen Organization:**
- Total screen: 40 columns Ã— 25 rows = 1000 character cells
- **Viewport area**: 24Ã—24 character region
  - Starts at **column 0, row 1** (left side, second row)
  - Occupies columns 0-23, rows 1-24
- **UI area**: 16 columns on the right side (columns 24-39, rows 1-24)
  - Contains player stats, inventory, compass, etc.
- **Top row** (row 0): Level indicator, mode indicators, etc.
- **Bottom row** (row 24): (additional screen row)

**VRAM Memory Layout:**

1. **CHRRAM (Character RAM)**: Stores AQUASCII character bytes
   - Screen memory: $3000 - $33E7 (1000 bytes for 40Ã—25 screen)
   - Base address: $3000 (also defines border character fill)
   - Viewport starts at: $3028 (column 0, row 1)
   - Each cell = 1 byte (AQUASCII character code $00-$FF)
   - Sequential addressing: row-major order (left-to-right, top-to-bottom)
   - Address calculation: `CHRRAM_BASE + (row * 40) + column`
   - **Spare 24 bytes** ($33E8 - $33FF): Wall state variables
     - Stores calculated wall visibility states (WALL_F0_STATE through WALL_B0_STATE)
     - Updated by REDRAW_START after every player move/rotation

2. **COLRAM (Color RAM)**: Stores color pair values
   - Screen memory: $3400 - $37E7 (1000 bytes for 40Ã—25 screen)
   - Base address: $3400 (also defines border color fill)
   - Viewport starts at: $3428 (column 0, row 1)
   - Each cell = 1 byte: `(foreground_color << 4) | background_color`
     - **High nybble** = Foreground color (bits 7-4)
     - **Low nybble** = Background color (bits 3-0)
   - Color values defined in `aquarius.inc` (0-15)
   - Parallel structure to CHRRAM (same row-major addressing)
   - Address calculation: `COLRAM_BASE + (row * 40) + column`
   - **Spare 24 bytes** ($37E8 - $37FF): Game state variables
     - Item position flags (ITEM_S2 through ITEM_SB)
     - Keyboard input buffers (KEY_INPUT_COL0 through KEY_INPUT_COL7)
     - Handcontroller input (HC_INPUT_HOLDER, HC_LAST_INPUT)

**Viewport Coordinates:**
- All COLRAM/CHRRAM index constants (e.g., `COLRAM_F0_WALL_IDX`) are **absolute screen addresses**
- Viewport rendering uses these pre-calculated addresses for each wall position
- Each wall section has specific column/row ranges within the 24Ã—24 viewport
- Example: F0 wall occupies viewport columns 4-19 (screen columns 4-19), rows 5-20

**Drawing Process:**
- `FILL_CHRCOL_RECT` writes to both CHRRAM and COLRAM in parallel
- For each cell: writes AQUASCII character code to CHRRAM, color byte to COLRAM
- 40-byte stride between rows (entire screen width, not just viewport)

**Key Point**: All wall position constants are absolute screen addresses accounting for the viewport location starting at column 0, row 1 of the 40Ã—24 screen. When modifying rendering code, always use these pre-calculated constants rather than attempting manual address arithmetic.

---

### 2. Stage 1: REDRAW_START - Calculate Wall States
**Location**: `asterion_high_rom.asm:7270`

**Purpose**: Calculate which walls are visible from current player position and facing direction, then redraw non-viewport UI elements (stats, compass, etc.)

**Key Operations**:
- Reads player position from `PLAYER_MAP_POS`
- Reads facing direction from `DIR_FACING_SHORT`
- Calculates wall states for ALL wall positions visible in the 3D viewport
- Uses complex geometric calculations based on player facing direction
- Stores results in a sequential block of wall state variables from $33e8 to $33fd

**Wall State Variables Calculated** (in order of setting during direction handling):

| Order | Variable | Address | Description |
|-------|----------|---------|-------------|
| 1 | `WALL_F0_STATE` | $33e8 | Wall directly ahead (front wall at S0) |
| 2 | `WALL_F1_STATE` | $33e9 | Wall one step ahead (front wall at S1) |
| 3 | `WALL_F2_STATE` | $33ea | Wall two steps ahead (front wall at S2) |
| 4 | `WALL_L2_STATE` | $33eb | Left wall at distance 2 (north wall of SL2) |
| 5 | `WALL_FL2_A_STATE` | $33ec | F2/FL2 gap rendering state (drawn when L2 absent) |
| 6 | `WALL_R2_STATE` | $33ed | Right wall at distance 2 (north wall of S2) |
| 7 | `WALL_FR2_A_STATE` | $33ee | F2/FR2 gap rendering state (drawn when R2 absent) |
| 8 | `WALL_L1_STATE` | $33ef | Left wall at distance 1 (north wall of SL1) |
| 9 | `WALL_FL1_A_STATE` | $33f0 | Front-left wall 1, part A (west wall of SL1) |
| 10 | `WALL_FL2_B_STATE` | $33f1 | Front-left wall 2, part B (duplicate of FL2_A) |
| 11 | `WALL_R1_STATE` | $33f2 | Right wall at distance 1 (north wall of S1) |
| 12 | `WALL_FR1_A_STATE` | $33f3 | Front-right wall 1, part A (west wall of SR1) |
| 13 | `WALL_FR2_B_STATE` | $33f4 | Front-right wall 2, part B (duplicate of FR2_A) |
| 14 | `WALL_L0_STATE` | $33f5 | Left wall at distance 0 (north wall of SL0) |
| 15 | `WALL_FL0_STATE` | $33f6 | Front-left wall 0 (west wall of SL0) |
| 16 | `WALL_FL1_B_STATE` | $33f7 | Front-left wall 1, part B (duplicate of FL1_A) |
| 17 | `WALL_L22_STATE` | $33f8 | Far left corner wall (north wall of SL22) |
| 18 | `WALL_R0_STATE` | $33f9 | Right wall at distance 0 (north wall of S0) |
| 19 | `WALL_FR0_STATE` | $33fa | Front-right wall 0 (west wall of SR0) |
| 20 | `WALL_FR1_B_STATE` | $33fb | Front-right wall 1, part B (duplicate of FR1_A) |
| 21 | `WALL_R22_STATE` | $33fc | Far right corner wall (north wall of SR2) |
| 22 | `WALL_B0_STATE` | $33fd | Back wall (wall behind player at SB) |

**Note**: The "A" and "B" variants for FL2, FR2, FL1, and FR1 contain duplicate values, created by the `CALC_HALF_WALLS` function for perspective rendering of walls that are drawn in two parts. The order listed above matches the sequence they are set during the `FACING_WEST` routine (and similarly for other directions).

**Direction Handling**:
- `FACING_NORTH`: Player facing north (DIR_FACING_SHORT = 1)
- `FACING_EAST`: Player facing east (DIR_FACING_SHORT = 2)  
- `FACING_SOUTH`: Player facing south (DIR_FACING_SHORT = 3)
- `FACING_WEST`: Player facing west (DIR_FACING_SHORT = 4)

### 3. Stage 2: REDRAW_VIEWPORT - Render the Scene
**Location**: `asterion_high_rom.asm:8085`

**Purpose**: Clear the viewport and draw all visible walls/doors based on calculated states

#### 3.1 Initialize Background
```asm
REDRAW_VIEWPORT:
    CALL        DRAW_BKGD
```

`DRAW_BKGD` (asterion_func_low.asm:3034):
- Clears viewport with SPACE characters (`$20`)
- Sets up multi-layer background:
  - **Upper Ceiling**: 8 rows of DKGRY on BLK (`COLOR(DKGRY,BLK)`)
  - **Lower Ceiling**: 6 rows of BLK on BLK (`COLOR(BLK,BLK)`)
  - **Upper Floor**: 5 rows of DKGRN on DKGRY (`COLOR(DKGRN,DKGRY)`)
  - **Lower Floor**: 5 rows (12x5) of BLK on DKGRY (`COLOR(BLK,DKGRY)`)

---

#### 3.2 Wall State Bit Pattern Logic

Each wall state byte uses encoding defined in wall_diagram.txt:

**West Wall (Low Bits)**:
- `$x0`: No wall
- `$x1`: Wall, no door (solid)
- `$x2`: Wall, visible door, closed 
- `$x4`: Wall, hidden door, closed
- `$x6`: Wall, visible door, opened *(player interaction only)*
- `$x7`: Wall, hidden door, opened *(player interaction only)*

**North Wall (High Bits)**:
- `$0x`: No wall  
- `$2x`: Wall, no door (solid)
- `$4x`: Wall, visible door, closed
- `$6x`: Wall, hidden door, closed
- `$Cx`: Wall, visible door, opened *(player interaction only)*
- `$Ex`: Wall, hidden door, opened *(player interaction only)*

**Example**: `$42` = North wall visible closed door + West wall visible closed door

The checking logic uses successive `RRCA` instructions:
```asm
LD A,(WALL_STATE)
RRCA                    ; Rotate bit 0 â†’ Carry (hidden door check)
JP NC,NO_HIDDEN_DOOR
RRCA                    ; Rotate bit 1 â†’ Carry (wall presence)
JP NC,NO_WALL
RRCA                    ; Rotate bit 2 â†’ Carry (door state)
JP C,DOOR_OPEN
```

#### 3.3 Wall Rendering Order and Algorithm

The rendering system uses a **conditional front-to-back ordering**, NOT traditional painter's algorithm. Below is the complete rendering sequence showing every wall, door, and item draw operation.

**Complete Rendering Sequence** (asterion_high_rom.asm:8085+):

**0. Background Initialization (line 8086)**

**Brief Summary:**
- `DRAW_BKGD` - Clear entire viewport area with SPACE characters ($20)
- Draw multi-layer background: ceiling (dark gray/black), horizon (black), floor (dark green/dark gray gradient)
- Continue to **step 1**

**Visual Representation (24Ã—24 Viewport):**

Legend: â¬› Ceiling/Horizon | ðŸŸ« Floor

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```
Legend: â¬› Ceiling/Horizon | ðŸŸ« Floor

---

**1. F0 (Front Wall at Distance 0) Processing (lines 8088-8149)**

**Brief Summary:**
- Test WALL_F0_STATE for hidden door (bit 0), wall exists (bit 1), door open (bit 2)
- **If wall with open door:** `DRAW_WALL_F0_AND_OPEN_DOOR` â†’ Jump to **step 10**
- **If wall with closed door:** `DRAW_F0_WALL_AND_CLOSED_DOOR` â†’ Continue to **step 6**
- **If hidden door:** `DRAW_F0_WALL`, optionally `DRAW_WALL_F0_AND_OPEN_DOOR`
- **If no wall:** Continue to **step 2**

**Visual Representation - F0 Wall with Door:**

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | ðŸŸ¦ F0 Wall | ðŸŸ© FO Door

---

**2. F1 (Front Wall at Distance 1) Processing (lines 8150-8196)**

**Brief Summary:**
- Test WALL_F1_STATE for hidden door (bit 0), wall exists (bit 1), door open (bit 2)
- **If wall with open door:** `DRAW_WALL_F1_AND_OPEN_DOOR` â†’ Jump to **step 5**
- **If wall with closed door:** `DRAW_WALL_F1_AND_CLOSED_DOOR` â†’ Continue to **step 6**
- **If hidden door:** `DRAW_WALL_F1`, optionally `DRAW_WALL_F1_AND_OPEN_DOOR`
- **If no wall:** Continue to **step 3**

**Visual Representation - F1 Wall with Door:**

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | ðŸŸ¦ F1 Wall | ðŸŸ© F1 Door

---

**3. F2 (Front Wall at Distance 2) Processing (lines 8197-8211)**

**Brief Summary:**
- Load WALL_F2_STATE and test bits
- **If hidden door OR wall exists:** `DRAW_WALL_F2` - Draw 4Ã—4 wall with base line
- **If no wall:** `DRAW_WALL_F2_EMPTY` - Draw 4Ã—4 black rectangle
- Continue to **step 4**

**Visual Representation - F2 Wall:**

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | ðŸŸ¦ F2 Wall

---

**4. Distance 2 Left Side Walls (lines 8212-8247)**

**Brief Summary:**
- Test WALL_L2_STATE: if hidden door OR wall exists, draw L2 â†’ Jump to **step 4b**
- Test WALL_FL2_A_STATE: if gap needed (L2 absent), draw F2/FL2 gap, else clear gap area
- Continue to **step 4b**

**Visual Representation - L2 Wall:**

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â†˜ï¸â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦â†˜ï¸â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦â†—ï¸ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â†—ï¸ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | ðŸŸ¦ L2 Wall | â†˜ï¸ Top Angle | â†—ï¸ Bottom Angle

**Visual Representation - F2/FL2 Gap:**

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | ðŸŸ¦ F2/FL2 Gap (col 8-9)

---

**4b. Distance 2 Right Side Walls (lines 8248-8261)**

**Brief Summary:**
- Test WALL_R2_STATE: if hidden door OR wall exists, draw R2 â†’ Jump to **step 5**
- Test WALL_FR2_A_STATE: if gap needed (R2 absent), draw F2/FR2 gap, else clear gap area
- Continue to **step 5**

**Visual Representation - R2 Wall:**

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â†™ï¸â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â†™ï¸ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â†˜ï¸ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â†˜ï¸ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | ðŸŸ¦ R2 Wall | â†™ï¸ Top Angle | â†˜ï¸ Bottom Angle

**Visual Representation - F2/FR2 Gap:**

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | ðŸŸ¦ F2/FR2 Gap (col 14-15)

---

**5. S2 Sprite Rendering (line 8314-8317)**

**Brief Summary:**
- `CHK_ITEM_F2`: Load sprite at S2 position (distance 2, center)
- `CALL CHK_ITEM` with parameter $48a - Check and draw item/monster sprite at S2
- Continue to **step 6**

**Visual Representation - S2 Item or S2 Monster:**

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸ”´ðŸ”´ðŸ”´ðŸ”´â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸ”´ðŸ”´ðŸ”´ðŸ”´â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸ”´ðŸ”´ðŸ”´ðŸ”´â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¡ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | ðŸŸ¡ S2 Item | ðŸ”´ S2 Monster

**Note**: 
- **Items at S2** render as tiny sprites (typically 1Ã—1 character, centered at column 11, row 12)
- **Monsters at S2** render as small sprites (4Ã—4 characters, centered at columns 10-13, rows 10-13)
- Sprite graphics defined in `asterion_gfx.asm`
- CHK_ITEM routine handles sprite type, size, and positioning based on distance

---

**6. Distance 1 Left Side Walls (lines 8318-8381)**

**Brief Summary:**
- Test WALL_L1_STATE: if wall/door exists, draw L1 â†’ Jump to **step 7**
- Test WALL_FL1_B_STATE: if wall/door exists, draw FL1_B â†’ Jump to **step 7**
- Test WALL_FL2_STATE: if hidden door OR wall exists, draw FL2, else draw FL2_EMPTY
- Continue to **step 7**

**Visual Representation - L1 Main Wall:**

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â†–ï¸â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›ðŸŸ¦â†–ï¸â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â†–ï¸â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦â†–ï¸â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›ðŸŸ¦â†˜ï¸ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ©â†˜ï¸ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ©ðŸŸ©â†™ï¸ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ©â†™ï¸ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦â†™ï¸ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | ðŸŸ¦ L1 Wall | ðŸŸ© L1 Door

**Visual Representation - FL1_B Wall and Door:**

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | ðŸŸ¦ FL1_B Wall | ðŸŸ© FL1_B Door

**Visual Representation - FL2_A (Left half, visible when no L1):**

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | ðŸŸ¦ FL2_A Left half (cols 4-5)

**Visual Representation - FL2_B (Right half, visible when no L1):**

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | ðŸŸ¦ FL2_B Right half (cols 6-7)

**Visual Representation - FL22 Area (Cleared/Empty):**

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
âŒâŒâŒâŒâ¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
âŒâŒâŒâŒâ¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
âŒâŒâŒâŒâ¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
âŒâŒâŒâŒâ¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | âŒ FL22 Cleared Area (4Ã—4 actively wiped with black-on-black)

**Note**:
- **L1** is the main left wall at distance 1 (columns 4-7, rows 4-18)
- **FL1_B** is the right half of the front-left wall section at distance 1 (columns 4-7, rows 8-15, 8 rows tall)
  - Only renders when L1 is absent
  - FL1_A (left half, columns 0-3) renders in Section 9 when L0/FL0 are absent
- **FL2** is the small mid-left wall at distance 2, visible only when L1 is absent
  - Never taller than 4 cells
  - Always rests on horizon (row 13/14 boundary)
  - Never extends right of column 9
  - Positioned at columns 6-9, rows 10-13
- **FL22** is the furthest-left wall corner at distance 2
  - Positioned at columns 0-3, rows 11-14 (4Ã—4, on horizon)
  - Only has EMPTY variant - draws black (â¬›) to clear the area
  - Rendered in Section 9 (Distance 0) after FL1_A check
  - Visible only when FL1_A wall is absent AND bit flag clear
- Drawing routines: `DRAW_WALL_L1`, `DRAW_L1`, `DRAW_WALL_FL1_B`, `DRAW_DOOR_FL1_B_*`, `DRAW_WALL_FL2`, `DRAW_WALL_FL22_EMPTY`

---

**7. Distance 1 Right Side Walls (lines 8370-8415)**

**Brief Summary:**
- Test WALL_R1_STATE: if wall/door exists, draw R1 â†’ Jump to **step 8**
- Test WALL_FR1_A_STATE: if wall/door exists, draw FR1_A â†’ Jump to **step 8**
- Test WALL_FR2_B_STATE: if hidden door OR wall exists, draw FR2, else draw FR2_EMPTY
- Continue to **step 8**

**Visual Representation - R1 Main Wall:**

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â†—ï¸â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â†—ï¸ðŸŸ¦â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â†—ï¸ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â†—ï¸ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â†™ï¸ðŸŸ¦â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦â†™ï¸ðŸŸ©ðŸŸ¦â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ¦â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ¦â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ¦â¬›â¬›â¬›â¬›
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â†˜ï¸ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â†˜ï¸ðŸŸ©ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â†˜ï¸ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | ðŸŸ¦ R1 Wall | ðŸŸ© R1 Door

**Visual Representation - FR1_A Wall and Door:**

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©â¬›â¬›â¬›â¬›
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | ðŸŸ¦ FR1_A Wall | ðŸŸ© FR1_A Door

**Visual Representation - FR2_A (Left half, visible when no R1):**

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | ðŸŸ¦ FR2_A Left half (cols 16-17)

**Visual Representation - FR2_B (Right half, visible when no R1):**

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | ðŸŸ¦ FR2_B Right half (cols 18-19)

**Visual Representation - FR22 Area (Cleared/Empty):**

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›âŒâŒâŒâŒ
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›âŒâŒâŒâŒ
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›âŒâŒâŒâŒ
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›âŒâŒâŒâŒ
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | âŒ FR22 Cleared Area (4Ã—4 actively wiped with black-on-black)

**Note**:
- **R1** is the main right wall at distance 1 (columns 16-19, rows 4-18)
- **FR1_B** is the left half of the front-right wall section at distance 1 (columns 16-19, rows 8-15, 8 rows tall)
  - Only renders when R1 is absent
  - FR1_A (right half, columns 20-23) renders in Section 9b (Distance 0 Right Side) when R0/FR0 are absent
- **FR2** is the small mid-right wall at distance 2, visible only when R1 is absent
  - Never taller than 4 cells
  - Always rests on horizon (row 13/14 boundary)
  - Never extends left of column 14
  - Positioned at columns 14-17, rows 10-13
- **FR22** is the furthest-right wall corner at distance 2
  - Positioned at columns 20-23, rows 11-14 (4Ã—4, on horizon)
  - Only has EMPTY variant - draws black (â¬›) to clear the area
  - Rendered in Section 9b (Distance 0 Right Side) after FR1_A check
  - Visible only when FR1_A wall is absent AND bit flag clear
- Drawing routines: `DRAW_WALL_R1`, `DRAW_R1`, `DRAW_WALL_FR1_B`, `DRAW_DOOR_FR1_B_*`, `DRAW_WALL_FR2`, `DRAW_WALL_FR22_EMPTY`

---

**8. S1 Sprite Rendering (line 8416)**

**Brief Summary:**
- `CALL CHK_ITEM` with ITEM_S1 and parameter $28a - Check and draw item/monster sprite at S1
- Continue to **step 9**

**Visual Representation - S1 Item or S1 Monster:

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸ”´â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸ”´â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸ”´ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸ”´ðŸ”´ðŸ”´ðŸŸ¡ðŸŸ¡ðŸ”´ðŸ”´ðŸ”´ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸ”´ðŸ”´ðŸ”´ðŸŸ¡ðŸŸ¡ðŸ”´ðŸ”´ðŸ”´ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | ðŸŸ¡ S1 Item | ðŸ”´ S1 Monster


**Note**:
- **Items at S1** render as small sprites (typically 2Ã—2 characters, centered at columns 11-12, rows 18-19)
- **Monsters at S1** render as medium sprites (8Ã—8 characters, centered at columns 8-15, rows 12-19)
- Sprite graphics defined in `asterion_gfx.asm`
- CHK_ITEM routine handles sprite type, size, and positioning based on distance
- Parameters: `CHK_ITEM(ITEM_S1, $28a)` where $28a sets distance/size for S1 rendering

---

**9. Distance 0 Left Side Walls (lines 8417-8471)**

**Brief Summary:**
- Test WALL_L0_STATE: if wall/door exists, draw L0 â†’ Jump to **step 9b**
- Test WALL_FL0_STATE: if wall exists, draw FL0 â†’ Jump to **step 9b**
- Test WALL_FL1_B_STATE: if wall/door exists, draw FL1_A and SL1 item â†’ Jump to **step 9b**
- Test FL22 flag: if set draw wall, else `DRAW_WALL_FL22_EMPTY` to clear area
- Continue to **step 9b**

**Visual Representation - L0 Main Wall:

```
â†˜ï¸â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ¦â†˜ï¸â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ¦ðŸŸ¦â†˜ï¸â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ¦ðŸŸ¦ðŸŸ¦â†˜ï¸â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â†–ï¸ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ©â†–ï¸ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ©ðŸŸ©â†–ï¸ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ©ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | ðŸŸ¦ L0 Wall | ðŸŸ© L0 Door

**Visual Representation - FL0 Wall:**

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | ðŸŸ¦ FL0 Wall

**Visual Representation - FL1_A Wall (visible when no L0/FL0):**

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ¦ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | ðŸŸ¦ FL1_A Wall | ðŸŸ© FL1_A Door

**Visual Representation - SL1 Item/Monster (visible when no L0/FL0):**

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ¡ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | ðŸŸ¡ SL1 Item (1Ã—1) | ðŸŸ¥ SL1 Monster (4Ã—4)

**Visual Representation - FL22 Wall (visible when no L0/FL0/FL1_A):**

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | ðŸŸ¦ FL22 Wall


**Note**:
- **L0** is the main left wall at distance 0 (columns 0-3, rows 4-18, 15 rows tall)
- **FL0** is the front-left wall at distance 0 (columns 0-3, rows 4-18, same as L0 position)
- **FL1_A** is the left half of FL1 wall, visible only when L0 and FL0 are absent (columns 0-3, rows 8-15, 8 rows tall)
  - FL1_B (right half, columns 4-7) renders in Section 6 when L1 is absent
- **FL22** is rendered at distance 2.5 left when flag is set, or cleared when not set (columns 0-3, rows 11-14, 4 rows tall)
- Drawing routines: `DRAW_WALL_L0`, `DRAW_DOOR_L0_*`, `DRAW_WALL_FL0`, `DRAW_WALL_FL1_A`, `DRAW_DOOR_L1_*`, `DRAW_WALL_FL22`, `DRAW_WALL_FL22_EMPTY`

---

**9b. Distance 0 Right Side Walls (lines 8472-8504)**

**Brief Summary:**
- Test WALL_R0_STATE: if wall/door exists (hidden/normal), draw R0 with appropriate door â†’ Jump to **step 10**
- Test WALL_FR0_STATE: if wall exists, draw FR0 â†’ Jump to **step 10**
- Test WALL_FR1_A_STATE: if wall/door exists, draw FR1_A and SR1 item â†’ Jump to **step 10**
- Test FR22 flag: if set draw wall, else `DRAW_WALL_FR22_EMPTY` to clear area
- Continue to **step 10**

**Visual Representation - R0 Main Wall:**

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â†™ï¸
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â†™ï¸ðŸŸ¦
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â†™ï¸ðŸŸ¦ðŸŸ¦
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â†™ï¸ðŸŸ¦ðŸŸ¦ðŸŸ¦
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦â†—ï¸
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦â†—ï¸ðŸŸ©
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦â†—ï¸ðŸŸ©ðŸŸ©
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ©ðŸŸ©ðŸŸ©
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | ðŸŸ¦ R0 Wall | ðŸŸ© R0 Door

**Visual Representation - FR0 Wall:**

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | ðŸŸ¦ FR0 Wall

**Visual Representation - FR1_B Wall (visible when no R0/FR0):**

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ©ðŸŸ©ðŸŸ¦ðŸŸ¦
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | ðŸŸ¦ FR1_B Wall | ðŸŸ© FR1_B Door

**Visual Representation - FR22 Wall (visible when no R0/FR0/FR1_B):**

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¦ðŸŸ¦ðŸŸ¦ðŸŸ¦
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | ðŸŸ¦ FR22 Wall

**Visual Representation - SR1 Item/Monster (visible when no R0/FR0):**

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¥ðŸŸ¥ðŸŸ¥ðŸŸ¥
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¡ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | ðŸŸ¡ SR1 Item (1Ã—1) | ðŸŸ¥ SR1 Monster (4Ã—4)

**Note:**
- **R0** is the main right wall at distance 0 (columns 20-23, rows 4-18, 15 rows tall)
- **FR0** is the front-right wall at distance 0 (columns 20-23, rows 4-18, same as R0 position)
- **FR1_B** is the left half of FR1 wall, visible only when R0 and FR0 are absent (columns 16-19, rows 8-15, 8 rows tall)
  - FR1_A (right half, columns 20-23) renders in Section 7 when R1 is absent
- **FR22** is rendered at distance 2.5 right when flag is set, or cleared when not set (columns 20-23, rows 11-14, 4 rows tall)
- Drawing routines: `DRAW_WALL_R0`, `DRAW_DOOR_R0_*`, `DRAW_WALL_FR0`, `DRAW_WALL_FR1_B`, `DRAW_DOOR_FR1_B_*`, `DRAW_WALL_FR22`, `DRAW_WALL_FR22_EMPTY`

---

**10. S0 Space Rendering (line 8620)**

**Brief Summary:**
- `CALL CHK_ITEM` with ITEM_S0 and parameter $8a - Check and draw item sprite at S0
- **Viewport rendering complete**

**Visual Representation - S0 Item (small sprite, 2Ã—2):**

```
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
â¬›â¬›â¬›â¬›â¬›â¬›ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ¡ðŸŸ«ðŸŸ«ðŸŸ«ðŸŸ«â¬›â¬›â¬›â¬›â¬›â¬›
```

Legend: â¬›ðŸŸ« Background | ðŸŸ¡ S0 Item


**Note:**
- **S0** is the space directly in front of the player at distance 0
- Items render as 4Ã—4 sprite (columns 10-13, rows 20-23)
- Drawing routine: `CHK_ITEM` with ITEM_S0 and parameter $8a

**TODO:** Update Section 5 (S2 Sprite) and Section 8 (S1 Sprite) terminology from "Sprite" to "Space" for consistency.

---

**Key Algorithm Characteristics:**

- **Conditional depth testing**: F0 â†’ F1 â†’ F2 sequence ONLY progresses if previous position is empty
- **Jump-based occlusion**: When F0/F1 has a wall with door, rendering jumps forward, skipping intermediate depths
- **Half-wall interleaving**: FL/FR half-walls split across multiple distance sections (A/B parts)
- **Items rendered strategically**: SL1/SR1 items can render multiple times depending on wall configuration
- **EMPTY functions**: Clear occluded areas that would otherwise show ghost walls

**This is NOT painter's algorithm** because traditional painter's algorithm renders back-to-front with overdraw. This system uses front-to-back conditional rendering with strategic jumps for occlusion.

### 4. Core Rendering Function: FILL_CHRCOL_RECT
**Location**: `asterion_func_low.asm:420`

**Purpose**: Low-level function that actually draws rectangles to screen memory

**Parameters**:
- `HL`: Starting screen memory address (COLRAM or CHRRAM)
- `BC`: Rectangle dimensions (B=width, C=height) via RECT() macro
- `A`: Color value via COLOR() macro or character value

**Operation**:
```asm
FILL_CHRCOL_RECT:
    LD          DE,$28                          ; Set row stride to 40 characters (screen width)
DRAW_CHRCOLS:
    PUSH        HL                              ; Save current row start position
    PUSH        BC                              ; Save rectangle dimensions (B=width, C=height)
    CALL        DRAW_ROW                        ; Fill current row with character/color in A
    POP         BC                              ; Restore rectangle dimensions
    POP         HL                              ; Restore row start position
    DEC         C                               ; Decrement remaining height
    RET         Z                               ; Return if all rows completed
    ADD         HL,DE                           ; Move to start of next row (+40 characters)
    JP          DRAW_CHRCOLS                    ; Continue with next row
```

## Screen Memory Layout

### COLRAM (Color RAM) Areas
The viewport uses specific COLRAM addresses for different wall segments:

- `COLRAM_VIEWPORT_IDX` ($3428): Main viewport area (24x24)
- `COLRAM_F0_WALL_IDX` ($34cc): F0 wall area (16x15 + bottom row)
- `COLRAM_F1_DOOR_IDX` ($35c2): F1 wall/door area (8x8 wall, 4x6 door)
- `COLRAM_FL22_WALL_IDX` ($35b8): Far left corner walls (4x4)
- `COLRAM_FR22_WALL_IDX` ($35cc): Far right corner walls (4x4)

**Note**: Some COLRAM/CHRRAM index constants may be aliased or labeled differently than their actual usage. Verify against asterion.inc (lines 122-166) for current definitions.

### CHRRAM (Character RAM) Areas
Character graphics are stored separately:

- `CHRRAM_VIEWPORT_IDX`: Main viewport character area
- `CHRRAM_F1_WALL_IDX`: F1 wall character area (used for clearing with SPACE chars)

---

## Part II: Detailed Wall Rendering Analysis

This section analyzes the rendering process for individual walls, focusing on the simple rectangular walls that don't consider doors.

**For complete spatial layout of all 22 wall positions**, see `wall_diagram.txt` in the docs folder, which provides comprehensive ASCII diagrams showing:
- All wall positions (F0-F2, L0-L22, R0-R22, FL0-FL22, FR0-FR22, B0)
- Map cell labels (S0, S1, S2, SL0-SL22, SR0-SR22, SB)
- Wall notation (* = can have doors, / = rendered in two parts, + = synthetic walls)
- Complete bit encoding reference for wall states

### Wall Categories

**Simple Rectangle Walls (Distance 2):**
- FL22, FL2, F2, FR2, FR22

**Complex Diagonal/Corner Walls:**  
- L0/R0, L1/R1, L2/R2, FL0/FR0, FL1/FR1

---

## F2 WALL - Front Wall at Distance 2

**Location:** Center front wall, 2 spaces ahead of player (see wall_diagram.txt for spatial layout)

### Rendering: DRAW_WALL_F2

**Location**: `asterion_func_low.asm:639`

**Steps**:
1. Setup Rectangle Dimensions: BC = RECT(4,4)
2. Position Setup: HL = COLRAM_F2_WALL_IDX
3. Color Setup: A = COLOR(BLK,DKGRY)
4. Draw Rectangle: FILL_CHRCOL_RECT
5. Draw Base Line: 4Ã—1 at $323a with character $90 (thin base line)

**Characteristics**:
- Two-part rendering: main 4Ã—4 wall + 4Ã—1 base line
- Fixed dimensions - always 4Ã—4 characters
- Color: black foreground on dark gray background
- No door consideration (F2 uses simplified rendering)
- Has DRAW_WALL_F2_EMPTY variant for clearing

---

## FL22 WALL - Far Left Corner Wall

**Location:** Far left corner, 2 spaces ahead and 2 spaces left (see wall_diagram.txt for spatial layout)

### Rendering: DRAW_WALL_FL22_EMPTY

**Location**: `asterion_func_low.asm:3695`

**Single-Step Clearing Process**:
1. Clear FL22 color area (4x4) with BLK on BLK

**Steps**:
1. Setup Rectangle Dimensions: BC = RECT(4,4)
2. Position Setup: HL = COLRAM_FL22_WALL_IDX ($35b8)
3. Color Setup: A = COLOR(BLK,BLK)
4. Draw Rectangle: JP FILL_CHRCOL_RECT (tail call)

**Characteristics**:
- Only EMPTY variant found in source (DRAW_WALL_FL22_EMPTY at line 3695)
- No separate "normal wall" drawing function for FL22 discovered
- Uses JP instead of CALL (tail call optimization)
- Perfect spacing - positioned 10 characters left of F2

---

## FR22 WALL - Far Right Corner Wall

**Location:** Far right corner, 2 spaces ahead and 2 spaces right (see wall_diagram.txt for spatial layout)

### Rendering: DRAW_WALL_FR22_EMPTY

**Location**: `asterion_func_low.asm:1743`

**Steps**:
1. Setup Rectangle Dimensions: BC = RECT(4,4)
2. Position Setup: HL = COLRAM_FR22_WALL_IDX ($35cc)
3. Color Setup: A = COLOR(BLK,BLK)
4. Draw Rectangle: JP FILL_CHRCOL_RECT (tail call)

**Characteristics**:
- Empty-only variant found (suggests frequent occlusion)
- Uses JP instead of CALL (tail call optimization)
- Perfect spacing - positioned 10 characters right of F2
- Mirrors FL22 positioning

---

## Perspective System

The 3D perspective is achieved through:

1. **Size scaling**: F0 (16Ã—15+row) â†’ F1 (8Ã—8) â†’ F2 (4Ã—4+line)
2. **Position mapping**: Each distance has specific COLRAM coordinates
3. **Layered rendering**: Front-to-back drawing order (F0 â†’ F1 â†’ F2 â†’ sides)
4. **Color gradation**: Different color schemes for different distances
   - F0: BLU on BLU (solid blue)
   - F1: BLU on DKBLU (lighter)
   - F2: BLK on DKGRY (darkest/farthest)
5. **Occlusion handling**: Empty variants (DRAW_*_EMPTY) for clearing occluded areas

---

## Key Constants and Macros

### Color Macro:
```asm
COLOR(fg,bg) = (fg * 16) + bg
```

### Rectangle Macro:
```asm  
RECT(width,height) = (width * 256) + height
```

### Color Constants:
- BLK=0, RED=1, GRN=2, YEL=3, BLU=4, MAG=5, CYN=6, WHT=7
- GRY=8, DKCYN=9, DKMAG=10, DKBLU=11, LTYEL=12, DKGRN=13, DKRED=14, DKGRY=15

---

## Modification Guidelines

### To Add New Wall Types:
1. **Create new drawing functions** in `asterion_func_low.asm`:
   ```asm
   DRAW_NEW_WALL_F0:
       LD          HL,COLRAM_F0_WALL_IDX
       LD          BC,RECT(16,15)
       LD          A,COLOR(NEW_FG,NEW_BG)
       CALL        FILL_CHRCOL_RECT
       ; Add bottom row if needed
       LD          HL,COLRAM_F0_WALL_IDX + 2 + (40 * 15)
       LD          B,12
       JP          DRAW_ROW
   ```

2. **Modify decision logic** in `REDRAW_VIEWPORT` to call your new functions

3. **Update wall state calculation** in `REDRAW_START` if needed

### To Modify Existing Graphics:
- **Change colors**: Modify COLOR() macro values
- **Change patterns**: Modify character values in CHRRAM operations
- **Change sizes**: Modify RECT() macro values (maintain perspective ratios)

---

## Memory Usage

### Screen Layout (40x24 characters):
- Viewport occupies central 24x24 area
- UI elements surround viewport (stats, items, etc.)
- Each character cell = 1 byte CHRRAM + 1 byte COLRAM

### Performance Considerations:
- FILL_CHRCOL_RECT is the bottleneck - called ~20-50 times per redraw
- Viewport redraws happen on every player action
- Total redraw affects ~576 character cells (24x24)

---

*This document provides comprehensive understanding of the Maze of Asterion rendering system, from high-level flow to individual wall rendering details. The modular structure makes it straightforward to modify graphics while maintaining the 3D perspective system.*
